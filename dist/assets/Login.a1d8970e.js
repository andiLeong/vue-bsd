import{r,u as _,K as V,d as B,b as s,k as j,h as i,g as t,L as p,w as S,t as f,o as k,f as I}from"./vendor.e8a4f362.js";import{c as L,a as b,u as P,b as g}from"./object.0b360f5b.js";import{B as v}from"./BaseInput.4ed820f8.js";import{P as C}from"./PrimaryButton.6e5ad2c7.js";import"./index.0426234a.js";const N={class:"pt-10"},U={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50 dark:bg-gray-800"},q={class:"mt-8 sm:mx-auto mx-6 sm:w-full sm:max-w-md"},E={class:"dark:bg-gray-700 bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},F={class:"text-red-500 text-sm italic font-medium"},Y={setup(H){const w=r(L({username:b().required(),password:b().required().min(3)})),{handleSubmit:x,errors:d}=P({validationSchema:w}),{value:n}=g("username"),{value:u}=g("password"),a=r(!1),m=r(""),c=r(x(l=>{h(l),console.log("submit",l)})),y=_();V();function h(l){a.value=!0,y.dispatch("login",l).then(()=>{a.value=!1,window.location.replace("/package")}).catch(e=>{a.value=!1,m.value=e.response.data.error})}return(l,e)=>(k(),B("div",N,[s("div",U,[s("div",q,[s("div",E,[s("form",{class:"space-y-6",onSubmit:e[2]||(e[2]=j((...o)=>c.value&&c.value(...o),["prevent"]))},[s("div",null,[i(v,{labelClass:"base-label",placeHolder:"your user name",class:"mt-1 base-input",label:"Username",type:"text",modelValue:t(n),"onUpdate:modelValue":e[0]||(e[0]=o=>p(n)?n.value=o:null),error:t(d).username},null,8,["modelValue","error"])]),s("div",null,[i(v,{labelClass:"base-label",placeHolder:"Your strong password",class:"mt-1 base-input",label:"Password",type:"password",modelValue:t(u),"onUpdate:modelValue":e[1]||(e[1]=o=>p(u)?u.value=o:null),error:t(d).password},null,8,["modelValue","error"])]),s("div",null,[i(C,{isLoading:a.value,class:"w-full"},{default:S(()=>[I(f(a.value?"Signing In":"Sign In"),1)]),_:1},8,["isLoading"])]),s("div",F,f(m.value),1)],32)])])])]))}};export{Y as default};
